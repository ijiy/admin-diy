const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RightMouse-Dr43kBZo.js","assets/element-plus-DV6F2B4w.js","assets/@vue-CMlG33N7.js","assets/lodash-es-ByZL8CPd.js","assets/async-validator-DKvM95Vc.js","assets/@vueuse-BLWlpg6_.js","assets/@element-plus-C3PuTle3.js","assets/@ctrl-r5W6hzzQ.js","assets/@sxzz-D9SI2xQl.js","assets/normalize-wheel-es-B6fDCfyv.js","assets/element-plus-C9qwUoHe.css","assets/plugin-vueexport-helper-DlAUqK2U.js","assets/RightMouse-Dl3MiaAo.css"])))=>i.map(i=>d[i]);
import{_ as $e}from"./DiyScrollY-BFeqa6Ks.js";import{d as R,o as a,J as g,K as m,a as x,G as Ke,B as Xe,c as k,b as _,u as t,$ as ye,S as z,ag as Y,Q as I,R as q,M as j,ae as P,aM as ke,ao as H,ai as ge,a1 as Ae,P as A,i as he,bK as Re,L as J,T as G,aO as Se,n as U,s as le,O as ee,_ as Ue,bE as qe,w as Te,X as Je,F as ve,U as Ge,ax as Ye}from"./@vue-CMlG33N7.js";import{k as Qe,l as Ze,m as et,n as ue,i as tt,o as nt,p as Ee,q as xe,r as pe}from"./element-plus-DV6F2B4w.js";import{a as ze,_ as st}from"./index.vuevuetypescriptsetuptruelang-DJt1QrGX.js";import{c as T,d as O,b as te,u as at,a as oe,o as Z}from"./index-C1p1eSpR.js";import{u as N,o as W}from"./vue-router-VFlIWpXA.js";import{_ as B}from"./plugin-vueexport-helper-DlAUqK2U.js";import{_ as ot}from"./@codemirror-D1iYbWyp.js";import{_ as lt}from"./close-h8PqKVjB.js";import{h as ie}from"./@vueuse-BLWlpg6_.js";import{_ as it,a as ct}from"./index-BHjQl9Sq.js";import"./lodash-es-ByZL8CPd.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-C3PuTle3.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-BrgXCphJ.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-i18n-BfQ-3HNT.js";import"./@intlify-DA-PR7LD.js";import"./vue-BI8I7hOi.js";import"./pinia-plugin-persistedstate-DEhZ7rAI.js";import"./destr-CVtkxrq9.js";import"./deep-pick-omit-DyxInw53.js";import"./@lezer-g9ZlY1HQ.js";import"./crelt-C8TCjufn.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";const rt={class:"scroll-better w0 h100"},ut={class:"flex ac h100"},de=R({__name:"DiyScrollX",emits:["onReady"],setup(v,{emit:e}){const u=e,b=f=>{u("onReady",f)};return(f,l)=>{const n=$e;return a(),g(n,{class:"scroll-inline h100 w100",inline:"",onOnReady:b},{default:m(()=>[x("div",rt,[x("div",ut,[l[0]||(l[0]=x("i",{class:"scroll-start"},null,-1)),Ke(f.$slots,"default"),l[1]||(l[1]=x("i",{class:"scroll-end"},null,-1))])])]),_:3})}}}),pt=R({__name:"LayoutCrumb",setup(v){const{layout:e}=T(),{navMenu:u}=O(),b=N(),f=(p,s)=>{var h;let c;for(let i=0;i<s.length;i++){if(s[i].path===p)return s[i];if((h=s[i].children)!=null&&h.length&&(c=f(p,s[i].children),c))return c}};let l,n;const d=Xe(()=>(l=b.matched.slice(1).map(p=>({title:p.meta.title,path:p.meta.params?`${p.path.split(":")[0]}${p.meta.params.split("&").map(s=>s.split("=")[1]).join("/")}`:p.path})),n=f(l[0].path,u.listRoute),n&&n.meta.parents.length&&n.meta.parents.forEach(p=>{l.unshift({title:p})}),l));return(p,s)=>{const c=ze,h=Qe,i=Ze,r=de;return a(),k("div",{class:j(["qv-crumb flex bb",{"is-header":t(e).isHeader}])},[x("div",{class:"c-primary cp flex ac h100 pi-base",onClick:s[0]||(s[0]=(...o)=>t(te).back&&t(te).back(...o))},[_(c)]),_(r,{class:"f1"},{default:m(()=>[_(i,{class:"h100 flex ac pi-base"},{default:m(()=>[_(ye,{name:"ani-crumb"},{default:m(()=>[(a(!0),k(z,null,Y(t(d),(o,y)=>(a(),g(h,{key:y,to:y<t(d).length-1?o.path:""},{default:m(()=>[I(q(p.$t(o.title)),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1})]),_:1})],2)}}}),dt=B(pt,[["__scopeId","data-v-bf774ca1"]]),Ie=Symbol("inject_tab_refresh"),Pe=Symbol("inject_tab_close"),Be=Symbol("inject_tab_clear"),_t=8;let be,V,ce;const Fe=(v,e,u)=>{V+=be,be*(V-e)<0?ce=requestAnimationFrame(()=>{Fe(v,e,u)}):(V=e,ce=void 0),v.scroll({[u]:V})};let Q;const re=(v,e,u)=>{Q={direction:"top",animation:!0,...u},V=v[Q.direction==="top"?"scrollTop":"scrollLeft"],V>e&&e<0&&(e=0),Q.animation?(be=(e-V)/_t,ce&&cancelAnimationFrame(ce),Fe(v,e,Q.direction)):v.scroll({[Q.direction]:e})},mt={class:"icon-base",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ft(v,e){return a(),k("svg",mt,e[0]||(e[0]=[ke('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="12" stroke-dashoffset="12" d="M10 14l-6.5 6.5M14 10l6.5 -6.5"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="12;0"></animate></path><path stroke-dasharray="8" stroke-dashoffset="8" d="M21 3h-6M3 21v-6M21 3v6M3 21h6"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.3s" dur="0.2s" values="8;0"></animate></path></g>',1)]))}const ht=P({name:"line-md-arrows-diagonal",render:ft}),vt="/admin-diy/assets/avatar-z1t48fqC.png",bt={class:"flex fn g-base"},yt={class:"h-base"},kt=R({__name:"Tool",props:{atAside:{type:Boolean}},setup(v){const e=v,{layout:u}=T(),{userBaseData:b,setLogout:f}=at(),l=H({showPop:!1});let n;const d=window.document,p=()=>{n=[...d.querySelectorAll(".qp-main")].filter(h=>h.style.display!=="none")[0],n.webkitRequestFullScreen?n.webkitRequestFullScreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen()},s=()=>{d.webkitExitFullscreen?d.webkitExitFullscreen():d.mozCancelFullScreen?d.mozCancelFullScreen():d.msExitFullscreen&&d.msExitFullscreen(),n=null},c=async()=>{await f(),te.replace("/login")};return ie(document,"click",()=>{l.showPop=!1}),W(()=>{n&&s()}),(h,i)=>{const r=it,o=ct,y=ht,M=st,E=et,F=ue,w=tt,$=ge("router-link"),S=nt;return a(),k("div",bt,[x("div",{class:j(["flex ac g-base",{"dc jc":e.atAside&&t(u).menuCollapse}])},[_(r),_(o),_(M,{class:"ani-light cp",onClick:p},{default:m(()=>[_(y)]),_:1})],2),_(S,{visible:t(l).showPop,"hide-after":0},{reference:m(()=>[x("div",{class:"flex ac g-8",onClick:i[0]||(i[0]=Ae(_e=>t(l).showPop=!0,["stop"]))},[_(E,{src:t(vt),class:"fn",size:t(u).size,alt:"your head"},null,8,["src","size"]),e.atAside?A("",!0):(a(),g(F,{key:0,truncated:"",class:"qp-max-name"},{default:m(()=>[I(q(t(b).nickname),1)]),_:1}))])]),default:m(()=>[x("div",yt,[_($,{class:"w100",to:"/diyPersonal"},{default:m(()=>[_(w,{class:"w100",type:"primary"},{default:m(()=>[I(q(h.$t("个人中心")),1)]),_:1})]),_:1}),_(w,{class:"w100",type:"danger",onClick:c},{default:m(()=>[I(q(h.$t("注销")),1)]),_:1})])]),_:1},8,["visible"])])}}}),Ce=B(kt,[["__scopeId","data-v-b23cb2ae"]]),gt={class:"qv-tab flex stick-top z-2"},xt=["data-index","onClick"],Ct=R({__name:"LayoutTab",setup(v){const e=Se(()=>ot(()=>import("./RightMouse-Dr43kBZo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),u=he(Ie,()=>{}),b=he(Pe,()=>{}),f=he(Be,()=>{}),l=N(),{layout:n,menuWidthFold:d}=T(),{closeTabRoutes:p,setActiveTabRoute:s,setTabListRoute:c,addTabRoutes:h,getNavTabRoute:i}=O(),{navTab:r,navMenu:o}=O(),y=Re("ref_right_mouse"),M=H([{name:"refresh",label:"重新加载"},{name:"close",label:"关闭标签"},{name:"closeOther",label:"关闭其他标签"},{name:"closeAll",label:"关闭全部标签"}]),E=async C=>{const L=r.listRoute.map(X=>X.path).indexOf(C.path);p(C),r.activeRoute.path===C.path&&await oe(r.listRoute.length?r.listRoute[L===r.listRoute.length?L-1:L].path:"/"),b(C.name)},F=C=>{r.activeRoute.path!==C.path&&oe(C.path),c([C]),s(C),f(C.name)},w=C=>{o.firstRoute.path===C.path?F(C):(oe(o.firstRoute.path),c([o.firstRoute]),f(o.firstRoute.name))};let $;const S=C=>{switch(C){case"refresh":u($.name);break;case"close":E($);break;case"closeOther":F($);break;case"closeAll":w($);break}},_e=C=>{$=i(C),h($),s($)};let K,se,ae,me,fe;const Le=()=>{ae=K.querySelector(".is-active"),ae&&(se=ae.offsetLeft,me=se-K.scrollLeft,me<0?re(K,se,{direction:"left"}):(fe=K.clientWidth-ae.getBoundingClientRect().width,me>fe&&re(K,se-fe,{direction:"left"})))},Me=window.app_mobile,Ve=C=>{K=C,Le(),Me||(ie(C,"contextmenu",L=>{var X;L.preventDefault(),L.target&&L.target.getAttribute("data-index")&&($=r.listRoute[Number(L.target.getAttribute("data-index"))],M[0].disabled=l.path!==$.path,M[1].disabled=r.listRoute.length===1&&$.path===o.firstRoute.path,M[2].disabled=r.listRoute.length===1,M[3].disabled=r.listRoute.length===1,(X=y.value)==null||X.showContextmenu(L.clientX-(n.isMdScreen?0:n.menuCollapse?d:n.menuWidthOpen)))}),ie(window,"keydown",L=>{L.altKey&&!L.ctrlKey&&!L.shiftKey&&L.key==="w"&&(r.listRoute.length>1||r.activeRoute.path!==o.firstRoute.path)&&E(r.activeRoute)}))};return W(async C=>{_e(C),await U(),Le()}),_e(l),(C,L)=>{const X=ze,je=lt,He=de;return a(),k("div",gt,[t(n).isCrumb?A("",!0):(a(),k("div",{key:0,class:"c-primary cp flex ac h100 pi-base",onClick:L[0]||(L[0]=(...D)=>t(te).back&&t(te).back(...D))},[_(X)])),_(He,{class:"qv-scroll f1",onOnReady:Ve},{default:m(()=>[_(ye,{name:"el-list"},{default:m(()=>[(a(!0),k(z,null,Y(t(r).listRoute,(D,Ne)=>(a(),k("div",{key:D.path,class:j(["qv-item no-select pi-base flex ac jc fn h100 cp pr",{"is-mobile":t(Me),"is-active":t(r).activeRoute.path===D.path}]),"data-index":Ne,onClick:We=>t(oe)(D.path)},[I(q(C.$t(D.meta.title))+" ",1),J(_(je,{class:"qv-close flex ac jc bb",onClick:Ae(We=>E(D),["stop"])},null,8,["onClick"]),[[G,t(r).listRoute.length>1||t(r).activeRoute.path!==t(o).firstRoute.path]])],10,xt))),128))]),_:1})]),_:1}),t(n).toolAt==="top"&&(!t(n).isHeader||t(n).layoutMode==="MenuAtSide")?(a(),g(Ce,{key:1,class:"pi-base"})):A("",!0),_(t(e),{ref:"ref_right_mouse",list:t(M),onEmitClickItem:S},null,8,["list"])])}}}),wt=B(Ct,[["__scopeId","data-v-0d1e7d4d"]]),Lt="/admin-diy/assets/logo-DCZDIjBD.png",Mt=["alt"],$t={class:"c-title"},At=R({__name:"Logo",setup(v){const{layout:e}=T(),u="Admin Diy";return(b,f)=>(a(),k("div",{class:j(["w0 f1 linear-text flex ac g-half fb",{"o-0 no-event":t(e).menuCollapse}])},[x("img",{class:"icon-base",src:Lt,alt:t(u)},null,8,Mt),x("h2",$t,q(t(u)),1)],2))}}),Oe=B(At,[["__scopeId","data-v-ed1233d7"]]),Rt={class:"icon-base",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function St(v,e){return a(),k("svg",Rt,e[0]||(e[0]=[x("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"},null,-1)]))}const qt=P({name:"ep-menu",render:St}),Tt={class:"icon-base",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function Et(v,e){return a(),k("svg",Tt,e[0]||(e[0]=[x("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357 357 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a352 352 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357 357 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294 294 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293 293 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294 294 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288 288 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293 293 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a288 288 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1)]))}const zt=P({name:"ep-setting",render:Et}),It={class:"icon-base",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function Pt(v,e){return a(),k("svg",It,e[0]||(e[0]=[x("path",{fill:"currentColor",d:"M448 68.48v64.832A384.128 384.128 0 0 0 512 896a384.13 384.13 0 0 0 378.688-320h64.768A448.128 448.128 0 0 1 64 512A448.13 448.13 0 0 1 448 68.48"},null,-1),x("path",{fill:"currentColor",d:"M576 97.28V448h350.72A384.064 384.064 0 0 0 576 97.28M512 64V33.152A448 448 0 0 1 990.848 512H512z"},null,-1)]))}const Bt=P({name:"ep-pie-chart",render:Pt}),Ft={class:"icon-base",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function Ot(v,e){return a(),k("svg",Ft,e[0]||(e[0]=[x("path",{fill:"currentColor",d:"M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96"},null,-1),x("path",{fill:"currentColor",d:"M384 416a64 64 0 1 0 0-128a64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256a128 128 0 0 1 0 256"},null,-1),x("path",{fill:"currentColor",d:"M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32m160 416a64 64 0 1 0 0-128a64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256a128 128 0 0 1 0 256"},null,-1),x("path",{fill:"currentColor",d:"M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32"},null,-1)]))}const Dt=P({name:"ep-set-up",render:Ot}),Vt={class:"icon-base",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function jt(v,e){return a(),k("svg",Vt,e[0]||(e[0]=[x("path",{fill:"currentColor",d:"M602.496 240.448A192 192 0 1 1 874.048 512l-316.8 316.8A256 256 0 0 1 195.2 466.752L602.496 59.456l45.248 45.248L240.448 512A192 192 0 0 0 512 783.552l316.8-316.8a128 128 0 1 0-181.056-181.056L353.6 579.904a32 32 0 1 0 45.248 45.248l294.144-294.144l45.312 45.248L444.096 670.4a96 96 0 1 1-135.744-135.744z"},null,-1)]))}const Ht=P({name:"ep-paperclip",render:jt}),Nt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"};function Wt(v,e){return a(),k("svg",Nt,e[0]||(e[0]=[x("filter",{id:"a"},[x("feTurbulence",{baseFrequency:".02"})],-1),x("rect",{width:"100%",height:"100%",filter:"url(#a)"},null,-1)]))}const Kt={render:Wt},Xt=["title"],ne=R({__name:"MenuIcon",props:{name:{}},setup(v){const e=v,u=le({LSnoise:Kt,IEpMenu:qt,IEpSetting:zt,IEpPieChart:Bt,IEpSetUp:Dt,IEpPaperclip:Ht});return(b,f)=>(a(),k("div",{class:"icon-base flex",title:e.name},[(a(),g(ee(t(u)[e.name||"IEpPaperclip"])))],8,Xt))}}),we=R({__name:"MenuTree",props:{menus:{default:()=>[]}},setup(v){const e=v;return(u,b)=>{const f=ue,l=ge("MenuTree",!0),n=Ee,d=xe;return a(!0),k(z,null,Y(e.menus,p=>{var s;return a(),k(z,{key:p.path},[(s=p.children)!=null&&s.length?(a(),g(n,{key:0,index:p.path},{title:m(()=>[_(ne,{name:p.meta.icon},null,8,["name"]),_(f,null,{default:m(()=>[I(q(u.$t(p.meta.title)),1)]),_:2},1024)]),default:m(()=>[_(l,{menus:p.children},null,8,["menus"])]),_:2},1032,["index"])):(a(),g(d,{key:1,index:p.path,onClick:c=>t(Z)(p)},{title:m(()=>[_(f,null,{default:m(()=>[I(q(u.$t(p.meta.title)),1)]),_:2},1024)]),default:m(()=>[_(ne,{name:p.meta.icon},null,8,["name"])]),_:2},1032,["index","onClick"]))],64)}),128)}}}),Ut=R({__name:"MenuAtTop",setup(v){const{layout:e,menuWidthMin:u}=T(),{navMenu:b}=O(),f=N(),l=H({activePath:f.path}),n=d=>{l.activePath=d.path};return W(d=>{n(d)}),(d,p)=>{const s=ue,c=Ee,h=xe,i=pe,r=de;return a(),k(z,null,[t(e).isLogo&&(t(e).layoutMode!=="MenuAtTop"||!t(e).isMdScreen)?(a(),g(Oe,{key:0,style:Ue(`width: ${t(u)}px;`)},null,8,["style"])):A("",!0),_(r,null,{default:m(()=>[_(i,{class:"qp-menu h100","popper-class":"qp-popper",mode:"horizontal","default-active":t(l).activePath,ellipsis:!1,"collapse-transition":!1},{default:m(()=>[(a(!0),k(z,null,Y(t(b).listRoute,o=>{var y;return a(),k(z,{key:o.name},[(y=o.children)!=null&&y.length?(a(),g(c,{key:0,index:o.path},{title:m(()=>[_(ne,{name:o.meta.icon},null,8,["name"]),_(s,null,{default:m(()=>[I(q(d.$t(o.meta.title)),1)]),_:2},1024)]),default:m(()=>[_(we,{menus:o.children},null,8,["menus"])]),_:2},1032,["index"])):(a(),g(h,{key:1,index:o.path,onClick:M=>t(Z)(o)},{default:m(()=>[_(ne,{name:o.meta.icon},null,8,["name"]),_(s,null,{default:m(()=>[I(q(d.$t(o.meta.title)),1)]),_:2},1024)]),_:2},1032,["index","onClick"]))],64)}),128))]),_:1},8,["default-active"])]),_:1})],64)}}}),Jt=R({__name:"MenuAtPart",setup(v){const e=N(),{navMenu:u}=O(),b=H({activePath:""}),f=s=>{var h;let c;for(let i=0;i<s.length;i++){if(s[i].meta.navPage&&!s[i].meta.pageLink)return s[i];if((h=s[i].children)!=null&&h.length&&(c=f(s[i].children),c))return c}},l=Object.create(null),n=s=>{var c;l[s.path]?Z(l[s.path]):(c=s.children)!=null&&c.length?Z(f(s.children)||s):Z(s)},d=(s,c,h)=>{var i;for(let r=0;r<c.length;r++){if(c[r].path===s)return s;if((i=c[r].children)!=null&&i.length&&(h=r,d(s,c[r].children,h)))return c[h].path}return""},p=s=>{b.activePath=d(s.path,u.listRoute),l[b.activePath]=s.path};return W(s=>{p(s)}),p(e),(s,c)=>{const h=ue,i=xe,r=pe,o=de;return a(),g(o,null,{default:m(()=>[_(r,{class:"qp-menu h100","popper-class":"qp-popper",mode:"horizontal","default-active":t(b).activePath,ellipsis:!1,"collapse-transition":!1},{default:m(()=>[(a(!0),k(z,null,Y(t(u).listRoute,y=>(a(),g(i,{key:y.path,index:y.path,onClick:M=>n(y)},{default:m(()=>[_(ne,{name:y.meta.icon},null,8,["name"]),_(h,null,{default:m(()=>[I(q(s.$t(y.meta.title)),1)]),_:2},1024)]),_:2},1032,["index","onClick"]))),128))]),_:1},8,["default-active"])]),_:1})}}}),Gt=B(Jt,[["__scopeId","data-v-3a442809"]]),Yt={class:"flex ac jb fn stick-top z-1 bb"},Qt=R({__name:"LayoutHeader",setup(v){const{layout:e}=T(),u=le({MenuAtTop:Ut,MenuAtPart:Gt});return(b,f)=>(a(),k("header",Yt,[(a(),g(ee(t(u)[t(e).layoutMode]),{key:t(e).layoutMode})),t(e).toolAt==="top"||t(e).layoutMode==="MenuAtTop"?(a(),g(Ce,{key:0,class:"pi-base"})):A("",!0)]))}}),Zt=B(Qt,[["__scopeId","data-v-63bbf10d"]]),en={class:"icon-base",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function tn(v,e){return a(),k("svg",en,e[0]||(e[0]=[ke('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="16" stroke-dashoffset="16" d="M19 5h-14"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.2s" values="16;0"></animate></path><path stroke-dasharray="10" stroke-dashoffset="10" d="M19 12h-9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.2s" dur="0.2s" values="10;0"></animate></path><path stroke-dasharray="16" stroke-dashoffset="16" d="M19 19h-14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.2s" values="16;0"></animate></path><path stroke-dasharray="10" stroke-dashoffset="10" d="M7 9l-3 3l3 3"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="10;0"></animate></path></g>',1)]))}const nn=P({name:"line-md-menu-fold-left",render:tn}),sn={class:"icon-base",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function an(v,e){return a(),k("svg",sn,e[0]||(e[0]=[ke('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="16" stroke-dashoffset="16" d="M5 5h14"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.2s" values="16;0"></animate></path><path stroke-dasharray="10" stroke-dashoffset="10" d="M5 12h9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.2s" dur="0.2s" values="10;0"></animate></path><path stroke-dasharray="16" stroke-dashoffset="16" d="M5 19h14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.2s" values="16;0"></animate></path><path stroke-dasharray="10" stroke-dashoffset="10" d="M17 9l3 3l-3 3"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="10;0"></animate></path></g>',1)]))}const on=P({name:"line-md-menu-fold-right",render:an}),ln=R({__name:"AsideCollapse",setup(v){qe(l=>({"63139a5e":t(b)+"px"}));const{updateLayout:e,layout:u,menuWidthFold:b}=T(),f=()=>{e("menuCollapse",!u.menuCollapse)};return(l,n)=>{const d=on,p=nn;return a(),k("div",{class:j(["collapse-btn c-primary cp flex ac jc",{"qv-hide":t(u).menuCollapse}]),onClick:f},[J(_(d,null,null,512),[[G,t(u).menuCollapse]]),J(_(p,null,null,512),[[G,!t(u).menuCollapse]])],2)}}}),De=B(ln,[["__scopeId","data-v-3fb8c08e"]]),cn=R({__name:"MenuAtSide",setup(v){const{layout:e}=T(),{navMenu:u}=O(),b=N(),f=H({activePath:b.path});return W(l=>{f.activePath=l.path}),(l,n)=>{const d=pe;return a(),g(d,{class:"qp-menu","popper-class":"qp-popper","unique-opened":t(e).menuUniqueOpened,"default-active":t(f).activePath,collapse:t(e).isMdScreen?!1:t(e).menuCollapse,"collapse-transition":!1},{default:m(()=>[_(we,{menus:t(u).listRoute},null,8,["menus"])]),_:1},8,["unique-opened","default-active","collapse"])}}}),rn=R({__name:"MenuAtPart",setup(v){const e=N(),{navMenu:u,getNavMenuRoute:b}=O(),{layout:f}=T(),l=H({activePath:e.path,activeChildren:[]}),n=(s,c)=>{var h;for(let i=0;i<c.length;i++)if(c[i].path===s||(h=c[i].children)!=null&&h.length&&n(s,c[i].children))return c[i]};let d;const p=s=>{var c;d=n(s.path,u.listRoute),l.activeChildren=d?(c=d.children)!=null&&c.length?d.children:[d]:[b(s)]};return W(s=>{l.activePath=s.path,p(s)}),p(e),(s,c)=>{const h=pe;return a(),g(h,{class:"qp-menu","popper-class":"qp-popper","unique-opened":t(f).menuUniqueOpened,"default-active":t(l).activePath,collapse:t(f).menuCollapse,"collapse-transition":!1},{default:m(()=>{var i;return[(i=t(l).activeChildren)!=null&&i.length?(a(),g(we,{key:0,menus:t(l).activeChildren},null,8,["menus"])):A("",!0)]}),_:1},8,["unique-opened","default-active","collapse"])}}}),un={class:"qv-top flex ac jb"},pn=R({__name:"LayoutAside",setup(v){qe(w=>({"6d71d62a":t(p),"0571a912":t(e).menuWidthOpen+"px"}));const{layout:e,menuWidthFold:u,updateLayout:b}=T(),f=Re("ref_aside"),l=le({MenuAtSide:cn,MenuAtPart:rn}),n=document.body,d=w=>(e.isMdScreen&&(w?n.classList.remove("oh"):n.classList.add("oh")),`${w?u:e.menuWidthOpen}px`),p=le(d(e.menuCollapse));Te(()=>e.menuCollapse,w=>{p.value=d(w)});const s=()=>{b("menuCollapse",!0),n.classList.remove("oh")};let c,h,i,r,o,y,M;const E=()=>{M&&clearTimeout(M),M=setTimeout(()=>{M=void 0,i=c.querySelector(".el-menu-item.is-active"),i&&(o=i.getBoundingClientRect(),r=o.top-c.offsetTop,h=r+c.scrollTop,r<0?re(c,h,{animation:!e.isMdScreen}):(y=c.clientHeight-o.height,r>y&&re(c,h-y,{animation:!e.isMdScreen})))},400)},F=w=>{c=w,E()};return window.app_mobile||ie(f.value,"transitionend",w=>{w.target===w.currentTarget&&b("menuCollapsEnd",!e.menuCollapsEnd)}),W(()=>{E()}),(w,$)=>{const S=$e;return a(),k(z,null,[x("aside",{ref:"ref_aside",class:j(["v100 flex dc fn",{"md-screen":t(e).isMdScreen,"is-show":t(e).isMdScreen&&!t(e).menuCollapse}])},[x("div",un,[t(e).isLogo?(a(),g(Oe,{key:0})):A("",!0),t(e).isMdScreen?A("",!0):(a(),g(De,{key:1}))]),_(S,{class:"f1",onOnReady:F},{default:m(()=>[(a(),g(ee(t(l)[t(e).layoutMode]),{key:t(e).layoutMode,class:"scroll-better"}))]),_:1}),t(e).toolAt!=="top"?(a(),g(Ce,{key:0,class:j(["p-base at-aside",{"hide-tool":t(e).menuCollapse}]),atAside:""},null,8,["class"])):A("",!0)],2),t(e).isMdScreen?(a(),k("div",{key:0,class:"aside-mask w100 h100 o-0 no-event",onClick:s})):A("",!0)],64)}}}),dn=B(pn,[["__scopeId","data-v-c81ca442"]]),_n={class:"flex"},mn={class:"flex dc f1"},fn=R({__name:"index",setup(v){const{layout:e}=T(),{globPage:u,navKeep:b}=O(),f=N(),l=H({currentLiveName:"",currentRealName:""}),n=Je({liveList:b.liveNames,realList:[]});let d;const p=async o=>{b.realNames.includes(o)?(d=n.realList.splice(n.realList.map(y=>y.name).indexOf(o),1),await U(),n.realList.push(d[0])):n.liveList.includes(o)?(l.currentLiveName="",n.liveList.splice(n.liveList.indexOf(o),1),await U(),l.currentLiveName=o,n.liveList.push(o)):(l.currentLiveName="",await U(),l.currentLiveName=o)},s=async o=>{b.realNames.includes(o)?n.realList.splice(n.realList.map(y=>y.name).indexOf(o),1):n.liveList.includes(o)&&(n.liveList.splice(n.liveList.indexOf(o),1),await U(),n.liveList.push(o))},c=async o=>{n.realList=b.realNames.includes(o)?n.realList.filter(y=>y.name===o):[],n.liveList=[o],await U(),n.liveList=b.liveNames};ve(Ie,p),ve(Pe,s),ve(Be,c);const h=[];let i,r;return Te(()=>f.name,o=>{r=o,b.realNames.includes(r)?(n.realList.find(y=>y.name===r)||(i=h.find(y=>y.name===r),i||(i={name:r,comp:P(Se(u[f.meta.comp]))},h.push(i)),n.realList.push(i)),l.currentLiveName="",l.currentRealName=r):(l.currentLiveName=r,l.currentRealName="")},{immediate:!0}),(o,y)=>{const M=dn,E=Zt,F=wt,w=dt,$=ge("router-view");return a(),k("section",_n,[t(e).layoutMode!=="MenuAtTop"?(a(),g(M,{key:0})):A("",!0),x("article",mn,[t(e).isHeader&&t(e).layoutMode!=="MenuAtSide"?(a(),g(E,{key:0})):A("",!0),t(e).isTab?(a(),g(F,{key:1})):A("",!0),t(e).isCrumb?(a(),g(w,{key:2})):A("",!0),J(x("main",null,[_(ye,{name:t(e).animate},{default:m(()=>[(a(!0),k(z,null,Y(t(n).realList,S=>J((a(),g(ee(S.comp),{key:S.name,class:"p-base qp-main"})),[[G,S.name===t(l).currentRealName]])),128))]),_:1},8,["name"])],512),[[G,!!t(l).currentRealName]]),J(x("main",null,[_($,null,{default:m(({Component:S})=>[_(Ge,{name:t(e).animate},{default:m(()=>[(a(),g(Ye,{include:t(n).liveList},[(a(),g(ee(S),{key:t(l).currentLiveName,class:"p-base qp-main"}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})],512),[[G,!t(l).currentRealName]])]),t(e).isMdScreen?(a(),g(De,{key:1,class:"qv-collapse z-2"})):A("",!0)])}}}),Wn=B(fn,[["__scopeId","data-v-925fb64a"]]);export{Wn as default};
