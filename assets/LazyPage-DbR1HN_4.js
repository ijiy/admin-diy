import{H as S,y as V,i as R,I as k,J as z}from"./element-plus-hr2Rsl-r.js";import B from"./html2canvas-CBrSDip1.js";import{E as I}from"./jspdf-CznCSA_h.js";import{d as W,ao as $,bK as j,o as w,c as v,a as t,V as o,b as p,R as d,W as H,u as x,P as M,ag as N}from"./@vue-Qh5bA5yX.js";import"./lodash-es-ByZL8CPd.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-D9VHCHPz.js";import"./@element-plus-ByXdi8SP.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@codemirror-DQuTFEwR.js";import"./@lezer-Dgxrf84R.js";import"./crelt-C8TCjufn.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";const q={class:"h-base"},F={class:"qp-box h-base"},J={class:"h-base"},A={class:"c-title"},G={class:"h-base"},K={class:"c-title"},U={class:"qp-box"},O={ref:"ref_table_wrap",class:"h-base"},Q={class:"flex jb"},T="表格名称",bt=W({__name:"LazyPage",setup(X){const f=[];let a;const b=new Date;for(a=1;a<27;a++)b.setDate(a),f.push({name:`${String.fromCodePoint(64+a)}${String.fromCodePoint(96+a)}`,createTime:b.toLocaleString("zh",{hour12:!1}),progress:`${a}%`});const s=$({loading:!1,dataList:f}),E=[{prop:"name",label:"姓名",align:"center"},{prop:"createTime",label:"时间",align:"center"},{prop:"progress",label:"进度",align:"center"}],y=j("ref_table_wrap");let m,g,c,n,u,_;const i=new I({unit:"px"}),C=async()=>{if(!s.loading){s.loading=!0;try{const r=await B(y.value,{logging:!1,scale:2*window.devicePixelRatio,ignoreElements:e=>e.getAttribute("be-ignore")!==null});for(_=r.toDataURL("image/jpeg"),m=i.internal.pageSize.getWidth(),g=i.internal.pageSize.getHeight(),u=r.height*m/r.width,c=Math.ceil(u/g),n=0;n<c;n++)i.addImage(_,"JPEG",0,0-n*g,m,u),n<c-1&&i.addPage();i.save(`${T}.pdf`),S.success("导出成功")}catch{}s.loading=!1}};return(r,e)=>{const h=V,D=R,L=k,P=z;return w(),v("div",q,[t("div",F,[t("ul",J,[t("li",null,[t("h2",A,[e[1]||(e[1]=o(" 插件: ")),p(h,null,{default:d(()=>e[0]||(e[0]=[o("html2canvas")])),_:1})])]),e[2]||(e[2]=t("li",null,"作用: 将HTML转成图片",-1)),e[3]||(e[3]=t("li",{class:"h-base"},[t("div",null,[o(" 对比: "),t("strong",null,"html-to-image")]),t("ul",{class:"h-base"},[t("li",null,"优点: 可以指定忽略元素, 克隆处理元素"),t("li",null,"缺点: 较低的还原度, 需要2倍(scale)放大")])],-1))]),t("ul",G,[t("li",null,[t("h2",K,[e[5]||(e[5]=o(" 插件: ")),p(h,null,{default:d(()=>e[4]||(e[4]=[o("jspdf")])),_:1})])]),e[6]||(e[6]=t("li",null,"作用: 将图片转成PDF",-1))])]),t("div",U,[t("div",O,[t("div",Q,[t("h2",{class:"c-title"},H(T)),p(D,{"be-ignore":"",loading:x(s).loading,type:"primary",onClick:C},{default:d(()=>e[7]||(e[7]=[o(" 导出图片 ")])),_:1},8,["loading"])]),p(P,{stripe:"",data:x(s).dataList},{default:d(()=>[(w(),v(M,null,N(E,l=>p(L,{key:l.prop,prop:l.prop,label:l.label,align:l.align,width:l.width,"min-width":l.minWidth,formatter:l.formatter},null,8,["prop","label","align","width","min-width","formatter"])),64))]),_:1},8,["data"])],512)])])}}});export{bt as default};
