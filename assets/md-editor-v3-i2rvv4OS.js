import{x as Qe,a as Ze,k as Ce,W as le}from"./@vavt-DY9C3b1x.js";import{m as Je}from"./medium-zoom-bWEtUbjf.js";import{c as Ye}from"./copy-to-clipboard-H-iOfSQ6.js";import{M as et}from"./markdown-it-DI8MEbma.js";import{r as tt}from"./markdown-it-image-figures-BD49Kf-b.js";import{T as rt}from"./markdown-it-task-lists-C1O_TidZ.js";import{L as nt}from"./lru-cache-DmfXgoGS.js";import{d as Ie,C as at,b as W,i as S,S as it,F as M,B as D,k as U,w as P,V as Se,n as Y,r as ie,s as ee}from"./@vue-Bu2ox0Ej.js";const p="md-editor",ot="https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.js",st="https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.css",b="https://cdnjs.cloudflare.com/ajax/libs",lt=`${b}/highlight.js/11.8.0/highlight.min.js`,ye={main:`${b}/prettier/2.8.0/standalone.js`,markdown:`${b}/prettier/2.8.0/parser-markdown.js`},ct={css:`${b}/cropperjs/1.5.13/cropper.min.css`,js:`${b}/cropperjs/1.5.13/cropper.min.js`},ut=`${b}/screenfull.js/5.2.0/screenfull.min.js`,ft=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","previewOnly","htmlPreview","catalog","github"],dt=["markdownTotal","=","scrollSwitch"],be={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",previewOnly:"仅预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},gt=`${b}/mermaid/10.6.1/mermaid.esm.min.mjs`,pt={js:`${b}/KaTeX/0.16.9/katex.min.js`,css:`${b}/KaTeX/0.16.9/katex.min.css`},ce={a11y:{light:`${b}/highlight.js/11.8.0/styles/a11y-light.min.css`,dark:`${b}/highlight.js/11.8.0/styles/a11y-dark.min.css`},atom:{light:`${b}/highlight.js/11.8.0/styles/atom-one-light.min.css`,dark:`${b}/highlight.js/11.8.0/styles/atom-one-dark.min.css`},github:{light:`${b}/highlight.js/11.8.0/styles/github.min.css`,dark:`${b}/highlight.js/11.8.0/styles/github-dark.min.css`},gradient:{light:`${b}/highlight.js/11.8.0/styles/gradient-light.min.css`,dark:`${b}/highlight.js/11.8.0/styles/gradient-dark.min.css`},kimbie:{light:`${b}/highlight.js/11.8.0/styles/kimbie-light.min.css`,dark:`${b}/highlight.js/11.8.0/styles/kimbie-dark.min.css`},paraiso:{light:`${b}/highlight.js/11.8.0/styles/paraiso-light.min.css`,dark:`${b}/highlight.js/11.8.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${b}/highlight.js/11.8.0/styles/qtcreator-light.min.css`,dark:`${b}/highlight.js/11.8.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${b}/highlight.js/11.8.0/styles/stackoverflow-light.min.css`,dark:`${b}/highlight.js/11.8.0/styles/stackoverflow-dark.min.css`}},_={editorExtensions:{highlight:{js:lt,css:ce},prettier:{standaloneJs:ye.main,parserMarkdownJs:ye.markdown},cropper:{...ct},iconfont:ot,iconfontClass:st,screenfull:{js:ut},mermaid:{js:gt},katex:{...pt}},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:(e,r)=>r,markdownItConfig:()=>{},markdownItPlugins:e=>e,iconfontType:"svg",mermaidConfig:e=>e};var mt=Object.defineProperty,ht=(e,r,t)=>r in e?mt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,vt=(e,r,t)=>(ht(e,r+"",t),t);class yt{constructor(){vt(this,"pools",{})}remove(r,t,n){const a=this.pools[r]&&this.pools[r][t];a&&(this.pools[r][t]=a.filter(l=>l!==n))}clear(r){this.pools[r]={}}on(r,t){return this.pools[r]||(this.pools[r]={}),this.pools[r][t.name]||(this.pools[r][t.name]=[]),this.pools[r][t.name].push(t.callback),this.pools[r][t.name].includes(t.callback)}emit(r,t,...n){this.pools[r]||(this.pools[r]={});const a=this.pools[r][t];a&&a.forEach(l=>{try{l(...n)}catch(u){console.error(`${t} monitor event exception！`,u)}})}}const B=new yt,bt="buildFinished",oe="catalogChanged",kt="pushCatalog",Ee="rerender",R=(e,r,t="")=>{var n;const o=document.getElementById(r.id);if(o)t!==""&&(Reflect.get(window,t)?(n=r.onload)==null||n.call(o,new Event("load")):r.onload&&o.addEventListener("load",r.onload));else{const a={...r};a.onload=null;const l=$t(e,a);r.onload&&l.addEventListener("load",r.onload),document.head.appendChild(l)}},wt=(e,r)=>{const t=document.getElementById(r.id);t==null||t.remove(),R(e,r)},$t=(e,r)=>{const t=document.createElement(e);return Object.keys(r).forEach(n=>{r[n]!==void 0&&(t[n]=r[n])}),t},Tt=e=>{if(!e)return e;const r=e.split(`
`),t=['<span rn-wrapper aria-hidden="true">'];return r.forEach(()=>{t.push("<span></span>")}),t.push("</span>"),`<span class="${p}-code-block">${e}</span>${t.join("")}`},xt=(()=>{let e=0;return r=>r+ ++e})();function At(e,r){for(var t=0;t<r.length;t++){const n=r[t];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const Ct=(e,r)=>{const t=S("editorId"),{noImgZoomIn:n}=e,o=Ce(()=>{const a=document.querySelectorAll(`#${t}-preview img:not(.not-zoom)`);a.length!==0&&Je(a,{background:"#00000073"})});U(()=>{!n&&e.setting.preview&&o()}),P([r,Se(e.setting,"preview")],()=>{!n&&e.setting.preview&&o()})},It=(e,r,t)=>{const n=S("editorId"),o=S("usedLanguageText"),a=()=>{document.querySelectorAll(`#${n} .${p}-preview .${p}-code`).forEach(c=>{let f=-1;const i=c.querySelector(`.${p}-copy-button`);i&&(i.onclick=s=>{s.preventDefault(),clearTimeout(f);const h=(c.querySelector("input:checked + pre code")||c.querySelector("pre code")).textContent,g=Ye(e.formatCopiedText(h)),{text:v,successTips:m,failTips:k}=o.value.copyCode,y=g?m:k;i.dataset.isIcon?i.dataset.tips=y:i.innerHTML=y,f=window.setTimeout(()=>{i.dataset.isIcon?i.dataset.tips=v:i.innerHTML=v},1500)})})},l=()=>{Y(a)},u=c=>{c&&Y(a)};P([r,t],l),P(()=>e.setting.preview,u),P(()=>e.setting.htmlPreview,u),P(()=>o.value,a),U(a)},St=e=>{const r=S("highlight"),t=ee(_.editorExtensions.highlight.instance);return U(()=>{e.noHighlight||t.value||(R("link",{...r.value.css,rel:"stylesheet",id:`${p}-hlCss`}),R("script",{...r.value.js,id:`${p}-hljs`,onload(){t.value=window.hljs}},"hljs"))}),P(()=>r.value.css,()=>{e.noHighlight||wt("link",{...r.value.css,rel:"stylesheet",id:`${p}-hlCss`})}),t},Et=e=>{const r=S("theme"),{editorExtensions:t,editorExtensionsAttrs:n,mermaidConfig:o}=_,a=ee(t.mermaid.instance),l=ee(-1),u=new nt({max:1e3,ttl:6e5}),c=()=>{const i=a.value;!e.noMermaid&&i&&(i.initialize(o({startOnLoad:!1,theme:r.value==="dark"?"dark":"default"})),l.value=l.value+1)};return P(()=>r.value,()=>{u.clear(),c()}),U(()=>{var i,s;if(e.noMermaid||a.value)return;const d=t.mermaid.js;/\.mjs/.test(d)?(R("link",{...(i=n.mermaid)==null?void 0:i.js,rel:"modulepreload",href:d,id:`${p}-mermaid-m`}),import(d).then(h=>{a.value=h.default,c()})):R("script",{...(s=n.mermaid)==null?void 0:s.js,src:d,id:`${p}-mermaid`,onload(){a.value=window.mermaid,c()}},"mermaid")}),{mermaidRef:a,reRenderRef:l,replaceMermaid:()=>{Y(()=>{if(!e.noMermaid&&a.value){const i=document.querySelectorAll(`div.${p}-mermaid`),s=document.createElement("div");s.style.width=document.body.offsetWidth+"px",s.style.height=document.body.offsetHeight+"px",s.style.position="fixed",s.style.zIndex="-10000",s.style.top="-10000";let d=i.length;d>0&&document.body.appendChild(s),i.forEach(async h=>{let g=u.get(h.innerText);if(!g){const m=le(),k=a.value.renderAsync||a.value.render;let y="";try{y=await k(m,h.innerText,s)}catch{}g=await e.sanitizeMermaid(typeof y=="string"?y:y.svg),u.set(h.innerText,g)}const v=document.createElement("p");v.className=`${p}-mermaid`,v.setAttribute("data-processed",""),v.innerHTML=g,h.dataset.line!==void 0&&(v.dataset.line=h.dataset.line),h.replaceWith(v),--d===0&&s.remove()})}})}}},Lt=e=>{const r=ee(_.editorExtensions.katex.instance);return U(()=>{if(e.noKatex||r.value)return;const{editorExtensions:t}=_;R("script",{src:t.katex.js,id:`${p}-katex`,onload(){r.value=window.katex}},"katex"),R("link",{rel:"stylesheet",href:t.katex.css,id:`${p}-katexCss`})}),r},_t=(e,r)=>{const t=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(n,o,a,l,u)=>{const c=n[o],f=c.content.trim();if(c.info==="mermaid"){let i;return n[o].map&&n[o].level===0&&(i=n[o].map[0],n[o].attrSet("data-line",String(i))),`<div class="${p}-mermaid" ${i!==void 0?"data-line="+i:""} data-mermaid-theme=${r.themeRef.value}>${f}</div>`}return t(n,o,a,l,u)}},Ft=_t,te=(e,r)=>{const t=e.attrs?e.attrs.slice():[];return r.forEach(n=>{const o=e.attrIndex(n[0]);o<0?t.push(n):(t[o]=t[o].slice(),t[o][1]+=` ${n[1]}`)}),t},ke=(e,r)=>{let t=!0,n=!0;const o=e.posMax,a=r>0?e.src.charCodeAt(r-1):-1,l=r+1<=o?e.src.charCodeAt(r+1):-1;return(a===32||a===9||l>=48&&l<=57)&&(n=!1),(l===32||l===9)&&(t=!1),{can_open:t,can_close:n}},Pt=(e,r)=>{let t,n,o,a;if(e.src[e.pos]!=="$")return!1;if(o=ke(e,e.pos),!o.can_open)return r||(e.pending+="$"),e.pos+=1,!0;const l=e.pos+1;for(t=l;(t=e.src.indexOf("$",t))!==-1;){for(a=t-1;e.src[a]==="\\";)a-=1;if((t-a)%2==1)break;t+=1}return t===-1?(r||(e.pending+="$"),e.pos=l,!0):t-l===0?(r||(e.pending+="$$"),e.pos=l+1,!0):(o=ke(e,t),o.can_close?(r||(n=e.push("math_inline","math",0),n.markup="$",n.content=e.src.slice(l,t)),e.pos=t+1,!0):(r||(e.pending+="$"),e.pos=l,!0))},Rt=(e,r,t,n)=>{let o,a,l,u,c=!1,f=e.bMarks[r]+e.tShift[r],i=e.eMarks[r];if(f+2>i||e.src.slice(f,f+2)!=="$$")return!1;if(f+=2,o=e.src.slice(f,i),n)return!0;for(o.trim().slice(-2)==="$$"&&(o=o.trim().slice(0,-2),c=!0),l=r;!c&&(l++,!(l>=t||(f=e.bMarks[l]+e.tShift[l],i=e.eMarks[l],f<i&&e.tShift[l]<e.blkIndent)));)e.src.slice(f,i).trim().slice(-2)==="$$"&&(u=e.src.slice(0,i).lastIndexOf("$$"),a=e.src.slice(f,u),c=!0);e.line=l+1;const s=e.push("math_block","math",0);return s.block=!0,s.content=(o&&o.trim()?o+`
`:"")+e.getLines(r+1,l,e.tShift[r],!0)+(a&&a.trim()?a:""),s.map=[r,e.line],s.markup="$$",!0},jt=(e,{katexRef:r})=>{const t=(o,a,l,u,c)=>{const f=o[a],i={attrs:te(f,[["class",`${p}-katex-inline`]])};if(r.value){const s=r.value.renderToString(f.content,{throwOnError:!1});return`<span ${c.renderAttrs(i)} data-processed>${s}</span>`}else return`<span ${c.renderAttrs(i)}>${f.content}</span>`},n=(o,a,l,u,c)=>{const f=o[a],i={attrs:te(f,[["class",`${p}-katex-block`]])};if(r.value){const s=r.value.renderToString(f.content,{throwOnError:!1,displayMode:!0});return`<p ${c.renderAttrs(i)} data-processed>${s}</p>`}else return`<p ${c.renderAttrs(i)}>${f.content}</p>`};e.inline.ruler.after("escape","math_inline",Pt),e.block.ruler.after("blockquote","math_block",Rt,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=t,e.renderer.rules.math_block=n},Ht=jt,Ot=(e,r)=>{r=r||{};const t=3,n=r.marker||"!",o=n.charCodeAt(0),a=n.length;let l="",u="";const c=(i,s,d,h,g)=>{const v=i[s];return v.type==="admonition_open"?i[s].attrPush(["class",`${p}-admonition ${p}-admonition-${v.info}`]):v.type==="admonition_title_open"&&i[s].attrPush(["class",`${p}-admonition-title`]),g.renderToken(i,s,d)},f=i=>{const s=i.trim().split(" ",2);u="",l=s[0],s.length>1&&(u=i.substring(l.length+2))};e.block.ruler.before("code","admonition",(i,s,d,h)=>{let g,v,m,k=!1,y=i.bMarks[s]+i.tShift[s],T=i.eMarks[s];if(o!==i.src.charCodeAt(y))return!1;for(g=y+1;g<=T&&n[(g-y)%a]===i.src[g];g++);const A=Math.floor((g-y)/a);if(A!==t)return!1;g-=(g-y)%a;const E=i.src.slice(y,g),C=i.src.slice(g,T);if(f(C),h)return!0;for(v=s;v++,!(v>=d||(y=i.bMarks[v]+i.tShift[v],T=i.eMarks[v],y<T&&i.sCount[v]<i.blkIndent));)if(o===i.src.charCodeAt(y)&&!(i.sCount[v]-i.blkIndent>=4)){for(g=y+1;g<=T&&n[(g-y)%a]===i.src[g];g++);if(!(Math.floor((g-y)/a)<A)&&(g-=(g-y)%a,g=i.skipSpaces(g),!(g<T))){k=!0;break}}const F=i.parentType,$=i.lineMax;return i.parentType="root",i.lineMax=v,m=i.push("admonition_open","div",1),m.markup=E,m.block=!0,m.info=l,m.map=[s,v],u&&(m=i.push("admonition_title_open","p",1),m.markup=E+" "+l,m.map=[s,v],m=i.push("inline","",0),m.content=u,m.map=[s,i.line-1],m.children=[],m=i.push("admonition_title_close","p",-1),m.markup=E+" "+l),i.md.block.tokenize(i,s+1,v),m=i.push("admonition_close","div",-1),m.markup=i.src.slice(y,g),m.block=!0,i.parentType=F,i.lineMax=$,i.line=v+(k?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.admonition_open=c,e.renderer.rules.admonition_title_open=c,e.renderer.rules.admonition_title_close=c,e.renderer.rules.admonition_close=c},Mt=Ot,Bt=(e,r)=>{e.renderer.rules.heading_open=(t,n)=>{var o;const a=t[n],l=((o=t[n+1].children)==null?void 0:o.reduce((c,f)=>c+(["text","code_inline"].includes(f.type)&&f.content||""),""))||"",u=a.markup.length;return r.headsRef.value.push({text:l,level:u}),a.map&&a.level===0&&a.attrSet("id",r.mdHeadingId(l,u,r.headsRef.value.length)),e.renderer.renderToken(t,n,r)},e.renderer.rules.heading_close=(t,n,o,a,l)=>l.renderToken(t,n,o)},Nt=Bt,Ut=(e,r)=>{if(typeof r[e]=="string")return r[e];const t=`<i class="${p}-iconfont ${p}-icon-${e}"></i>`;switch(_.iconfontType){case"svg":return`<svg class="${p}-icon" aria-hidden="true"><use xlink:href="#${p}-icon-${e}"></use></svg>`;default:return t}},Dt=Ut,Wt=(e,r)=>{const t=e.renderer.rules.fence,n=e.utils.unescapeAll,o=/\[(\w*)(?::([\w ]*))?\]/,a=/::(open|close)/,l=s=>s.info?n(s.info).trim():"",u=s=>{const d=l(s),[h=null,g=""]=(o.exec(d)||[]).slice(1);return[h,g]},c=s=>{const d=l(s);return d?d.split(/(\s+)/g)[0]:""},f=s=>{const d=s.info.match(a)||[],h=d[1]==="open"||d[1]!=="close"&&r.codeFoldable&&s.content.trim().split(`
`).length<r.autoFoldThreshold,g=d[1]||r.codeFoldable?"details":"div",v=d[1]||r.codeFoldable?"summary":"div";return{open:h,tagContainer:g,tagHeader:v}},i=(s,d,h,g,v)=>{var m;if(s[d].hidden)return"";const k=(m=r.usedLanguageTextRef.value)==null?void 0:m.copyCode.text,y=r.customIconRef.value.copy||k,T=!!r.customIconRef.value.copy,A=`<span class="${p}-collapse-tips">${Dt("collapse-tips",r.customIconRef.value)}</span>`,[E]=u(s[d]);if(E===null){const{open:H,tagContainer:O,tagHeader:he}=f(s[d]),ve=[["class",`${p}-code`]];H&&ve.push(["open",""]);const Xe={attrs:te(s[d],ve)};s[d].info=s[d].info.replace(a,"");const Ke=t(s,d,h,g,v);return`<${O} ${v.renderAttrs(Xe)}>
        <${he} class="${p}-code-head">
          <div class="${p}-code-flag"><span></span><span></span><span></span></div>
          <div class="${p}-code-action">
            <span class="${p}-code-lang">${s[d].info.trim()}</span>
            <span class="${p}-copy-button" data-tips="${k}"${T?" data-is-icon=true":""}">${y}</span>
            ${O==="details"?A:""}
          </div>
        </${he}>${Ke}</${O}>`}let C,F,$,x,j="",I="",X="";const{open:z,tagContainer:ae,tagHeader:pe}=f(s[d]),me=[["class",`${p}-code`]];z&&me.push(["open",""]);const qe={attrs:te(s[d],me)};for(let H=d;H<s.length&&(C=s[H],[F,$]=u(C),F===E);H++){C.info=C.info.replace(o,"").replace(a,""),C.hidden=!0;const O=`${p}-codetab-${r.editorId}-${d}-${H-d}`;x=H-d>0?"":"checked",j+=`<li>
          <input type="radio" name="${p}-codetab-label-${r.editorId}-${d}" class="${O}" ${x}>
          <label onclick="document.querySelectorAll('.${O}').forEach(e => e.click())">${$||c(C)}</label>
        </li>`,I+=`<input type="radio" name="${p}-codetab-pre-${r.editorId}-${d}" class="${O}" ${x}>
      ${t(s,H,h,g,v)}`,X+=`<input type="radio" name="${p}-codetab-lang-${r.editorId}-${d}" class="${O}" ${x}>
      <span class=${p}-code-lang>${c(C)}</span>`}return`<${ae} ${v.renderAttrs(qe)}>
    <${pe} class="${p}-code-head">
      <div class="${p}-code-flag">
        <ul class="${p}-codetab-label">${j}</ul>
      </div>
      <div class="${p}-code-action">
        <span class="${p}-codetab-lang">${X}</span>
        <span class="${p}-copy-button" data-tips="${k}"${T?" data-is-icon=true":""}">${y}</span>
        ${ae==="details"?A:""}
      </div>
    </${pe}>${I}</${ae}>`};e.renderer.rules.fence=i,e.renderer.rules.code_block=i},Vt=Wt;function zt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ue={exports:{}},w={},fe={exports:{}},V={};function Le(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Gt(e,r,t){}function qt(e,r,t){}var Xt=/javascript\s*\:/img;function Kt(e,r){return Xt.test(r)?"":r}V.whiteList=Le();V.getDefaultWhiteList=Le;V.onAttr=Gt;V.onIgnoreAttr=qt;V.safeAttrValue=Kt;var Qt={indexOf:function(e,r){var t,n;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,n=e.length;t<n;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var n,o;if(Array.prototype.forEach)return e.forEach(r,t);for(n=0,o=e.length;n<o;n++)r.call(t,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},G=Qt;function Zt(e,r){e=G.trimRight(e),e[e.length-1]!==";"&&(e+=";");var t=e.length,n=!1,o=0,a=0,l="";function u(){if(!n){var i=G.trim(e.slice(o,a)),s=i.indexOf(":");if(s!==-1){var d=G.trim(i.slice(0,s)),h=G.trim(i.slice(s+1));if(d){var g=r(o,l.length,d,h,i);g&&(l+=g+"; ")}}}o=a+1}for(;a<t;a++){var c=e[a];if(c==="/"&&e[a+1]==="*"){var f=e.indexOf("*/",a+2);if(f===-1)break;a=f+1,o=a+1,n=!1}else c==="("?n=!0:c===")"?n=!1:c===";"?n||u():c===`
`&&u()}return G.trim(l)}var Jt=Zt,K=V,Yt=Jt;function we(e){return e==null}function er(e){var r={};for(var t in e)r[t]=e[t];return r}function _e(e){e=er(e||{}),e.whiteList=e.whiteList||K.whiteList,e.onAttr=e.onAttr||K.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||K.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||K.safeAttrValue,this.options=e}_e.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var r=this,t=r.options,n=t.whiteList,o=t.onAttr,a=t.onIgnoreAttr,l=t.safeAttrValue,u=Yt(e,function(c,f,i,s,d){var h=n[i],g=!1;if(h===!0?g=h:typeof h=="function"?g=h(s):h instanceof RegExp&&(g=h.test(s)),g!==!0&&(g=!1),s=l(i,s),!!s){var v={position:f,sourcePosition:c,source:d,isWhite:g};if(g){var m=o(i,s,v);return we(m)?i+":"+s:m}else{var m=a(i,s,v);if(!we(m))return m}}});return u};var tr=_e;(function(e,r){var t=V,n=tr;function o(l,u){var c=new n(u);return c.process(l)}r=e.exports=o,r.FilterCSS=n;for(var a in t)r[a]=t[a];typeof window<"u"&&(window.filterCSS=e.exports)})(fe,fe.exports);var de=fe.exports,ge={indexOf:function(e,r){var t,n;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,n=e.length;t<n;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var n,o;if(Array.prototype.forEach)return e.forEach(r,t);for(n=0,o=e.length;n<o;n++)r.call(t,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var r=/\s|\n|\t/,t=r.exec(e);return t?t.index:-1}},rr=de.FilterCSS,nr=de.getDefaultWhiteList,re=ge;function Fe(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Pe=new rr;function ar(e,r,t){}function ir(e,r,t){}function or(e,r,t){}function sr(e,r,t){}function Re(e){return e.replace(cr,"&lt;").replace(ur,"&gt;")}function lr(e,r,t,n){if(t=Ne(t),r==="href"||r==="src"){if(t=re.trim(t),t==="#")return"#";if(!(t.substr(0,7)==="http://"||t.substr(0,8)==="https://"||t.substr(0,7)==="mailto:"||t.substr(0,4)==="tel:"||t.substr(0,11)==="data:image/"||t.substr(0,6)==="ftp://"||t.substr(0,2)==="./"||t.substr(0,3)==="../"||t[0]==="#"||t[0]==="/"))return""}else if(r==="background"){if(Q.lastIndex=0,Q.test(t))return""}else if(r==="style"){if($e.lastIndex=0,$e.test(t)||(Te.lastIndex=0,Te.test(t)&&(Q.lastIndex=0,Q.test(t))))return"";n!==!1&&(n=n||Pe,t=n.process(t))}return t=Ue(t),t}var cr=/</g,ur=/>/g,fr=/"/g,dr=/&quot;/g,gr=/&#([a-zA-Z0-9]*);?/gim,pr=/&colon;?/gim,mr=/&newline;?/gim,Q=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,$e=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Te=/u\s*r\s*l\s*\(.*/gi;function je(e){return e.replace(fr,"&quot;")}function He(e){return e.replace(dr,'"')}function Oe(e){return e.replace(gr,function(t,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function Me(e){return e.replace(pr,":").replace(mr," ")}function Be(e){for(var r="",t=0,n=e.length;t<n;t++)r+=e.charCodeAt(t)<32?" ":e.charAt(t);return re.trim(r)}function Ne(e){return e=He(e),e=Oe(e),e=Me(e),e=Be(e),e}function Ue(e){return e=je(e),e=Re(e),e}function hr(){return""}function vr(e,r){typeof r!="function"&&(r=function(){});var t=!Array.isArray(e);function n(l){return t?!0:re.indexOf(e,l)!==-1}var o=[],a=!1;return{onIgnoreTag:function(l,u,c){if(n(l))if(c.isClosing){var f="[/removed]",i=c.position+f.length;return o.push([a!==!1?a:c.position,i]),a=!1,f}else return a||(a=c.position),"[removed]";else return r(l,u,c)},remove:function(l){var u="",c=0;return re.forEach(o,function(f){u+=l.slice(c,f[0]),c=f[1]}),u+=l.slice(c),u}}}function yr(e){for(var r="",t=0;t<e.length;){var n=e.indexOf("<!--",t);if(n===-1){r+=e.slice(t);break}r+=e.slice(t,n);var o=e.indexOf("-->",n);if(o===-1)break;t=o+3}return r}function br(e){var r=e.split("");return r=r.filter(function(t){var n=t.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),r.join("")}w.whiteList=Fe();w.getDefaultWhiteList=Fe;w.onTag=ar;w.onIgnoreTag=ir;w.onTagAttr=or;w.onIgnoreTagAttr=sr;w.safeAttrValue=lr;w.escapeHtml=Re;w.escapeQuote=je;w.unescapeQuote=He;w.escapeHtmlEntities=Oe;w.escapeDangerHtml5Entities=Me;w.clearNonPrintableCharacter=Be;w.friendlyAttrValue=Ne;w.escapeAttrValue=Ue;w.onIgnoreTagStripAll=hr;w.StripTagBody=vr;w.stripCommentTag=yr;w.stripBlankChar=br;w.attributeWrapSign='"';w.cssFilter=Pe;w.getDefaultCSSWhiteList=nr;var ne={},N=ge;function kr(e){var r=N.spaceIndex(e),t;return r===-1?t=e.slice(1,-1):t=e.slice(1,r+1),t=N.trim(t).toLowerCase(),t.slice(0,1)==="/"&&(t=t.slice(1)),t.slice(-1)==="/"&&(t=t.slice(0,-1)),t}function wr(e){return e.slice(0,2)==="</"}function $r(e,r,t){var n="",o=0,a=!1,l=!1,u=0,c=e.length,f="",i="";e:for(u=0;u<c;u++){var s=e.charAt(u);if(a===!1){if(s==="<"){a=u;continue}}else if(l===!1){if(s==="<"){n+=t(e.slice(o,u)),a=u,o=u;continue}if(s===">"||u===c-1){n+=t(e.slice(o,a)),i=e.slice(a,u+1),f=kr(i),n+=r(a,n.length,f,i,wr(i)),o=u+1,a=!1;continue}if(s==='"'||s==="'")for(var d=1,h=e.charAt(u-d);h.trim()===""||h==="=";){if(h==="="){l=s;continue e}h=e.charAt(u-++d)}}else if(s===l){l=!1;continue}}return o<c&&(n+=t(e.substr(o))),n}var Tr=/[^a-zA-Z0-9\\_:.-]/gim;function xr(e,r){var t=0,n=0,o=[],a=!1,l=e.length;function u(d,h){if(d=N.trim(d),d=d.replace(Tr,"").toLowerCase(),!(d.length<1)){var g=r(d,h||"");g&&o.push(g)}}for(var c=0;c<l;c++){var f=e.charAt(c),i,s;if(a===!1&&f==="="){a=e.slice(t,c),t=c+1,n=e.charAt(t)==='"'||e.charAt(t)==="'"?t:Cr(e,c+1);continue}if(a!==!1&&c===n){if(s=e.indexOf(f,c+1),s===-1)break;i=N.trim(e.slice(n+1,s)),u(a,i),a=!1,c=s,t=c+1;continue}if(/\s|\n|\t/.test(f))if(e=e.replace(/\s|\n|\t/g," "),a===!1)if(s=Ar(e,c),s===-1){i=N.trim(e.slice(t,c)),u(i),a=!1,t=c+1;continue}else{c=s-1;continue}else if(s=Ir(e,c-1),s===-1){i=N.trim(e.slice(t,c)),i=xe(i),u(a,i),a=!1,t=c+1;continue}else continue}return t<e.length&&(a===!1?u(e.slice(t)):u(a,xe(N.trim(e.slice(t))))),N.trim(o.join(" "))}function Ar(e,r){for(;r<e.length;r++){var t=e[r];if(t!==" ")return t==="="?r:-1}}function Cr(e,r){for(;r<e.length;r++){var t=e[r];if(t!==" ")return t==="'"||t==='"'?r:-1}}function Ir(e,r){for(;r>0;r--){var t=e[r];if(t!==" ")return t==="="?r:-1}}function Sr(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function xe(e){return Sr(e)?e.substr(1,e.length-2):e}ne.parseTag=$r;ne.parseAttr=xr;var Er=de.FilterCSS,L=w,De=ne,Lr=De.parseTag,_r=De.parseAttr,J=ge;function Z(e){return e==null}function Fr(e){var r=J.spaceIndex(e);if(r===-1)return{html:"",closing:e[e.length-2]==="/"};e=J.trim(e.slice(r+1,-1));var t=e[e.length-1]==="/";return t&&(e=J.trim(e.slice(0,-1))),{html:e,closing:t}}function Pr(e){var r={};for(var t in e)r[t]=e[t];return r}function Rr(e){var r={};for(var t in e)Array.isArray(e[t])?r[t.toLowerCase()]=e[t].map(function(n){return n.toLowerCase()}):r[t.toLowerCase()]=e[t];return r}function We(e){e=Pr(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=L.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=Rr(e.whiteList||e.allowList):e.whiteList=L.whiteList,this.attributeWrapSign=e.singleQuotedAttributeValue===!0?"'":L.attributeWrapSign,e.onTag=e.onTag||L.onTag,e.onTagAttr=e.onTagAttr||L.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||L.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||L.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||L.safeAttrValue,e.escapeHtml=e.escapeHtml||L.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Er(e.css))}We.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var r=this,t=r.options,n=t.whiteList,o=t.onTag,a=t.onIgnoreTag,l=t.onTagAttr,u=t.onIgnoreTagAttr,c=t.safeAttrValue,f=t.escapeHtml,i=r.attributeWrapSign,s=r.cssFilter;t.stripBlankChar&&(e=L.stripBlankChar(e)),t.allowCommentTag||(e=L.stripCommentTag(e));var d=!1;t.stripIgnoreTagBody&&(d=L.StripTagBody(t.stripIgnoreTagBody,a),a=d.onIgnoreTag);var h=Lr(e,function(g,v,m,k,y){var T={sourcePosition:g,position:v,isClosing:y,isWhite:Object.prototype.hasOwnProperty.call(n,m)},A=o(m,k,T);if(!Z(A))return A;if(T.isWhite){if(T.isClosing)return"</"+m+">";var E=Fr(k),C=n[m],F=_r(E.html,function($,x){var j=J.indexOf(C,$)!==-1,I=l(m,$,x,j);return Z(I)?j?(x=c(m,$,x,s),x?$+"="+i+x+i:$):(I=u(m,$,x,j),Z(I)?void 0:I):I});return k="<"+m,F&&(k+=" "+F),E.closing&&(k+=" /"),k+=">",k}else return A=a(m,k,T),Z(A)?f(k):A},f);return d&&(h=d.remove(h)),h};var jr=We;(function(e,r){var t=w,n=ne,o=jr;function a(u,c){var f=new o(c);return f.process(u)}r=e.exports=a,r.filterXSS=a,r.FilterXSS=o,function(){for(var u in t)r[u]=t[u];for(var c in n)r[c]=n[c]}(),typeof window<"u"&&(window.filterXSS=e.exports);function l(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}l()&&(self.filterXSS=e.exports)})(ue,ue.exports);var q=ue.exports;const Hr=zt(q),Or=At({__proto__:null,default:Hr},[q]),Ae={img:["class"],input:["class","disabled","type","checked"],iframe:["class","width","height","src","title","border","frameborder","framespacing","allow","allowfullscreen"]},Mr=(e,r)=>{const{extendedWhiteList:t={},xss:n={}}=r;let o;if(typeof n=="function")o=new q.FilterXSS(n(Or));else{const a=q.getDefaultWhiteList();[...Object.keys(t),...Object.keys(Ae)].forEach(u=>{const c=a[u]||[],f=Ae[u]||[],i=t[u]||[];a[u]=[...new Set([...c,...f,...i])]}),o=new q.FilterXSS({whiteList:a,...n})}e.core.ruler.after("linkify","xss",a=>{for(let l=0;l<a.tokens.length;l++){const u=a.tokens[l];switch(u.type){case"html_block":{u.content=o.process(u.content);break}case"inline":{(u.children||[]).forEach(f=>{f.type==="html_inline"&&(f.content=o.process(f.content))});break}}}})},Br=Mr,Nr=e=>{e.core.ruler.push("init-line-number",r=>(r.tokens.forEach(t=>{t.map&&(t.attrs||(t.attrs=[]),t.attrs.push(["data-line",t.map[0].toString()]))}),!0))},Ur=(e,r)=>{const{editorConfig:t,markdownItConfig:n,markdownItPlugins:o}=_,a=S("editorId"),l=S("language"),u=S("usedLanguageText"),c=S("showCodeRowNumber"),f=S("theme"),i=S("customIcon"),s=ie([]),d=St(e),h=Lt(e),{reRenderRef:g,replaceMermaid:v}=Et(e),m=et({html:!0,breaks:!0,linkify:!0});n(m,{editorId:a});const k=[{type:"image",plugin:tt,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:Mt,options:{}},{type:"taskList",plugin:rt,options:{}},{type:"heading",plugin:Nt,options:{mdHeadingId:e.mdHeadingId,headsRef:s}},{type:"code",plugin:Vt,options:{editorId:a,usedLanguageTextRef:u,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold,customIconRef:i}},{type:"xss",plugin:Br,options:{}}];e.noKatex||k.push({type:"katex",plugin:Ht,options:{katexRef:h}}),e.noMermaid||k.push({type:"mermaid",plugin:Ft,options:{themeRef:f}}),o(k,{editorId:a}).forEach($=>{m.use($.plugin,$.options)});const y=m.options.highlight;m.set({highlight:($,x,j)=>{if(y){const z=y($,x,j);if(z)return z}let I;!e.noHighlight&&d.value?d.value.getLanguage(x)?I=d.value.highlight($,{language:x,ignoreIllegals:!0}).value:I=d.value.highlightAuto($).value:I=m.utils.escapeHtml($);const X=c?Tt(I.replace(/^\n+|\n+$/g,"")):`<span class="${p}-code-block">${I.replace(/^\n+|\n+$/g,"")}</span>`;return`<pre><code class="language-${x}" language=${x}>${X}</code></pre>`}}),Nr(m);const T=ie(`_article-key_${le()}`),A=ie(e.sanitize(m.render(e.modelValue))),E=()=>{B.emit(a,bt,A.value),e.onHtmlChanged(A.value),e.onGetCatalog(s.value),B.emit(a,oe,s.value),v()};U(E);const C=()=>{s.value=[],A.value=e.sanitize(m.render(e.modelValue)),E()},F=D(()=>(e.noKatex||h.value)&&(e.noHighlight||d.value));return P([Se(e,"modelValue"),F,g,l],Ce(C,r?0:t.renderDelay)),P(()=>e.setting.preview,()=>{e.setting.preview&&Y(()=>{B.emit(a,oe,s.value)})}),U(()=>{B.on(a,{name:kt,callback(){B.emit(a,oe,s.value)}}),B.on(a,{name:Ee,callback:()=>{T.value=`_article-key_${le()}`,C()}})}),{html:A,key:T}},Dr=Ur,Ve={modelValue:{type:String,default:""},setting:{type:Object,default:()=>({preview:!0})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:e=>e},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function},codeFoldable:{type:Boolean},autoFoldThreshold:{type:Number}};({...Ve});const Wr=Ie({name:"ContentPreview",props:Ve,setup(e){const r=S("editorId"),t=S("previewTheme"),n=S("showCodeRowNumber"),{html:o,key:a}=Dr(e,e.previewOnly);return It(e,o,a),Ct(e,o),()=>W(it,null,[e.setting.preview&&W("div",{id:`${r}-preview-wrapper`,class:`${p}-preview-wrapper`,key:"content-preview-wrapper"},[W("div",{key:a.value,id:`${r}-preview`,class:[`${p}-preview`,`${t==null?void 0:t.value}-theme`,n&&`${p}-scrn`],innerHTML:o.value},null)]),!e.previewOnly&&e.setting.htmlPreview&&W("div",{id:`${r}-html-wrapper`,class:`${p}-preview-wrapper`,key:"html-preview-wrapper"},[W("div",{class:`${p}-html`},[o.value])])])}}),Vr=e=>{const{editorId:r}=e,t=_.editorExtensions.highlight,n=_.editorExtensionsAttrs.highlight;M("editorId",r),M("theme",D(()=>e.theme)),M("language",D(()=>e.language)),M("highlight",D(()=>{const{js:a}=t,l={...ce,...t.css},{js:u,css:c={}}=n||{},f=e.codeStyleReverse&&e.codeStyleReverseList.includes(e.previewTheme)?"dark":e.theme,i=l[e.codeTheme]?l[e.codeTheme][f]:ce.atom[f],s=l[e.codeTheme]&&c[e.codeTheme]?c[e.codeTheme][f]:c.atom?c.atom[f]:{};return{js:{src:a,...u},css:{href:i,...s}}})),M("showCodeRowNumber",e.showCodeRowNumber);const o=D(()=>{const a={...be,..._.editorConfig.languageUserDefined};return Qe(Ze(be["en-US"]),a[e.language]||{})});M("usedLanguageText",o),M("previewTheme",D(()=>e.previewTheme)),M("customIcon",D(()=>e.customIcon))},zr=e=>{U(()=>{const{editorExtensions:r,editorExtensionsAttrs:t,iconfontType:n}=_;e.noIconfont||(n==="svg"?R("script",{...t.iconfont,src:r.iconfont,id:`${p}-icon`}):R("link",{...t.iconfontClass,rel:"stylesheet",href:r.iconfontClass,id:`${p}-icon-class`}))})},Gr=e=>e,ze={modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:()=>xt("md-editor-v3_")},showCodeRowNumber:{type:Boolean,default:!0},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:Gr},sanitize:{type:Function,default:e=>e},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:e=>Promise.resolve(e)},codeFoldable:{type:Boolean,default:!0},autoFoldThreshold:{type:Number,default:30}};({...ze});const Ge=["onHtmlChanged","onGetCatalog"];[...Ge];const qr=(e,r)=>{const{editorId:t}=e,n={rerender(){B.emit(t,Ee)}};r.expose(n)},se=Ie({name:"MdPreview",props:ze,emits:Ge,setup(e,r){const{editorId:t,noKatex:n,noMermaid:o,noHighlight:a}=e;return Vr(e),zr(e),qr(e,r),at(()=>{B.clear(t)}),()=>W("div",{id:t,class:[p,e.class,e.theme==="dark"&&`${p}-dark`,`${p}-previewOnly`],style:e.style},[W(Wr,{modelValue:e.modelValue,onHtmlChanged:l=>{e.onHtmlChanged?e.onHtmlChanged(l):r.emit("onHtmlChanged",l)},onGetCatalog:l=>{e.onGetCatalog?e.onGetCatalog(l):r.emit("onGetCatalog",l)},mdHeadingId:e.mdHeadingId,noMermaid:o,sanitize:e.sanitize,noKatex:n,formatCopiedText:e.formatCopiedText,noHighlight:a,noImgZoomIn:e.noImgZoomIn,previewOnly:!0,sanitizeMermaid:e.sanitizeMermaid,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null)])}});se.install=e=>(e.component(se.name,se),e);export{se as M};
