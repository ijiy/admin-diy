import{c as w}from"./index-B6lBxpMl.js";import{u as _,g as m,h as v}from"./echarts-C8rL5RjP.js";import{d as b,bK as k,w as p,a2 as z,a7 as x,h as E,J as R,o as A,c as D,n as L}from"./@vue-Qh5bA5yX.js";const T={ref:"ref_chart",class:"h100"},K=b({__name:"index",setup(U,{expose:r}){const{layout:a}=w(),f=k("ref_chart");let e,l;const d=n=>{_([...n.uses,m]),e=v(f.value,a.isDark?"dark":void 0),n.option.backgroundColor="",e.setOption(n.option),l=n},c=()=>{e==null||e.resize()},s=()=>{c(),L(()=>{c()})};let i,t,o;const u=p(()=>a.menuCollapsEnd,()=>{i?s():o=!0});return window.app_mobile&&u(),p(()=>a.isDark,()=>{i?(e==null||e.dispose(),d(l)):t=!0}),z(()=>{window.app_mobile||window.addEventListener("resize",s),i=!0,t?(t=!1,o=!1,e==null||e.dispose(),d(l)):o&&(o=!1,s())}),x(()=>{window.app_mobile||window.removeEventListener("resize",s),i=!1}),E(()=>{window.app_mobile||window.addEventListener("resize",s),i=!0,t=!1,o=!1}),R(()=>{e==null||e.dispose(),e=void 0}),r({init:d}),(n,g)=>(A(),D("div",T,null,512))}});export{K as _};
