import{G as C,y as E,i as k,H as y,I as S}from"./element-plus-DV6F2B4w.js";import{t as I}from"./html-to-image-Cnhg7C0r.js";import{d as L,ao as N,bK as B,o as u,c as g,a as t,Q as i,b as r,K as p,u as f,S as D,ag as P}from"./@vue-CMlG33N7.js";import"./lodash-es-ByZL8CPd.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-BLWlpg6_.js";import"./@element-plus-C3PuTle3.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";const R=(n,d)=>{const a=document.createElement("a");a.download=n.substring(1+n.lastIndexOf("/"),n.length),a.href=n,a.click()},V={class:"h-base"},$={class:"qp-box h-base"},q={class:"h-base"},H={class:"c-title"},K={class:"qp-box h-base",ref:"ref_table_wrap"},M={class:"flex jb"},X=L({name:"NConvertImg",__name:"index",setup(n){const d=[];let a;const c=new Date;for(a=1;a<27;a++)c.setDate(a),d.push({name:`${String.fromCodePoint(64+a)}${String.fromCodePoint(96+a)}`,createTime:c.toLocaleString("zh",{hour12:!1}),progress:`${a}%`});const s=N({loading:!1,dataList:d}),_=[{prop:"name",label:"姓名",align:"center"},{prop:"createTime",label:"时间",align:"center"},{prop:"progress",label:"进度",align:"center"}],b=B("ref_table_wrap"),o={timer:void 0,loading:!1},h=async()=>{if(!o.loading){o.loading=!0,o.timer=setTimeout(()=>{o.timer=void 0,s.loading=!0},300);try{const m=await I(b.value);R(m),s.loading=!1,C.success("导出成功")}catch{}o.timer?(clearTimeout(o.timer),o.timer=void 0):s.loading=!1,setTimeout(()=>{o.loading=!1},500)}};return(m,e)=>{const v=E,w=k,T=y,x=S;return u(),g("div",V,[t("div",$,[t("ul",q,[t("li",null,[t("h2",H,[e[1]||(e[1]=i(" 插件: ")),r(v,null,{default:p(()=>e[0]||(e[0]=[i("html-to-image")])),_:1})])]),e[2]||(e[2]=t("li",null,"作用: 将HTML转成图片",-1)),e[3]||(e[3]=t("li",{class:"h-base"},[t("div",null,[i(" 对比: "),t("strong",null,"html2canvas")]),t("ul",{class:"h-base"},[t("li",null,"优点: 轻量, 更快生成图片, 更高的还原度"),t("li",null,"缺点: 无法指定忽略元素, 克隆处理元素")])],-1))])]),t("div",K,[t("div",M,[e[5]||(e[5]=t("h2",{class:"c-title"},"表格名称",-1)),r(w,{loading:f(s).loading,type:"primary",onClick:h},{default:p(()=>e[4]||(e[4]=[i(" 导出图片 ")])),_:1},8,["loading"])]),r(x,{stripe:"",data:f(s).dataList},{default:p(()=>[(u(),g(D,null,P(_,l=>r(T,{key:l.prop,prop:l.prop,label:l.label,align:l.align,width:l.width,"min-width":l.minWidth,formatter:l.formatter},null,8,["prop","label","align","width","min-width","formatter"])),64))]),_:1},8,["data"])],512)])}}});export{X as default};
